<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selector de Citas</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <section class="poem-card">
        <h2>La Calma Misteriosa</h2>
        <p>La calma es el refugio de la tormenta.</p>
    </section>

    <h1>Selecciona tu fecha</h1>
    <p>Después de la tormenta, llega la calma…</p>

    <!-- Audio de calma que se reproduce al entrar -->
    <audio id="calm-audio" autoplay>
        <source src="assets/calm.mp3" type="audio/mp3">
        Tu navegador no soporta audio.
    </audio>

    <!-- Formulario usando Formspree -->
    <form action="https://formspree.io/f/mldlyzdd" method="POST">
        <label for="date-picker">Elige tu cita:</label>
        <input type="datetime-local" id="date-picker" name="fecha" min="2025-08-21" required>

        <br><br>

        <label for="note">Nota adicional:</label><br><br>
        <textarea id="note" name="nota" placeholder="Deja alguna nota aquí..." required></textarea>

        <br><br>

        <button type="submit" id="submit-btn">Confirmar fecha</button>
    </form>

    <div id="message"></div>

    <script>
        // Prevenir que el formulario sea enviado mientras no se selecciona una fecha
        const form = document.querySelector('form');
        const submitBtn = document.getElementById('submit-btn');
        const messageDiv = document.getElementById('message');

        form.addEventListener('submit', (e) => {
            const selectedDate = document.getElementById('date-picker').value;

            // Validar si la fecha es correcta
            if (!selectedDate) {
                e.preventDefault();  // Prevenir envío del formulario
                messageDiv.textContent = 'Por favor selecciona una fecha válida.';
                return;
            }

            // Aquí puedes agregar una confirmación o mensaje
            messageDiv.textContent = `¡Fecha registrada: ${selectedDate}!`;

        });
    </script>

</body>
</html>
